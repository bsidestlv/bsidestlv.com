---
import site from '../data/site.json';

interface Props {
  title?: string;
  subtitle?: string;
  cta?: { label: string; href: string };
  ctaSecondary?: { label: string; href: string };
  showDate?: boolean;
}

const { title, subtitle, cta, ctaSecondary, showDate = false } = Astro.props;
---

<section class="relative flex min-h-[85vh] items-center justify-center overflow-hidden">
  <!-- Background gradient -->
  <div
    class="via-brand-950/30 absolute inset-0 bg-linear-to-br from-gray-950 to-gray-950"
    aria-hidden="true"
  >
  </div>

  <!-- Grid pattern overlay -->
  <div
    class="absolute inset-0 opacity-[0.03]"
    style="background-image: linear-gradient(rgba(255,255,255,0.5) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.5) 1px, transparent 1px); background-size: 60px 60px;"
    aria-hidden="true"
  >
  </div>

  <!-- Glowing orbs -->
  <div
    class="bg-brand-900/20 absolute top-1/4 left-1/4 h-96 w-96 rounded-full blur-[120px]"
    aria-hidden="true"
  >
  </div>
  <div
    class="bg-brand-600/10 absolute right-1/4 bottom-1/4 h-64 w-64 rounded-full blur-[80px]"
    aria-hidden="true"
  >
  </div>

  <div class="section-container relative px-4 py-24 text-center">
    <!-- Logo -->
    <div class="mb-8 flex justify-center">
      <img
        src={site.logo}
        alt="BSidesTLV"
        class="h-24 w-auto drop-shadow-[0_0_60px_rgba(93,106,185,0.4)] sm:h-32"
      />
    </div>

    <!-- Date pill -->
    {
      showDate && (
        <div class="border-brand-800 bg-brand-950/50 text-brand-300 mb-6 inline-flex items-center gap-2 rounded-full border px-4 py-1.5 text-sm font-medium">
          <span class="bg-brand-400 h-1.5 w-1.5 animate-pulse rounded-full" />
          {site.dateDisplay} Â· {site.location}
        </div>
      )
    }

    <!-- Title -->
    {
      title && (
        <h1 class="section-title mb-6 text-4xl leading-tight text-white sm:text-6xl lg:text-7xl">
          {title}
        </h1>
      )
    }

    <!-- Subtitle / slot -->
    {
      subtitle && (
        <p class="mx-auto mb-8 max-w-2xl text-lg leading-relaxed text-gray-300 sm:text-xl">
          {subtitle}
        </p>
      )
    }

    <slot />

    <!-- CTAs -->
    {
      (cta || ctaSecondary) && (
        <div class="mt-8 flex flex-col justify-center gap-4 sm:flex-row">
          {cta && (
            <a href={cta.href} class="btn-primary px-8 py-3.5 text-base">
              {cta.label}
              <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M13 7l5 5m0 0l-5 5m5-5H6"
                />
              </svg>
            </a>
          )}
          {ctaSecondary && (
            <a href={ctaSecondary.href} class="btn-outline px-8 py-3.5 text-base">
              {ctaSecondary.label}
            </a>
          )}
        </div>
      )
    }
  </div>

  <!-- Scroll indicator -->
  <div
    class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce text-gray-600"
    aria-hidden="true"
  >
    <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"
      ></path>
    </svg>
  </div>
</section>
