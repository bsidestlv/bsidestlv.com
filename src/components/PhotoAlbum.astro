---
interface Props {
  images: string[];
  title?: string;
  albumUrl?: string;
}

const { images, title, albumUrl } = Astro.props;
---

<section class="py-20">
  <div class="section-container">
    {
      title && (
        <div class="mb-10 text-center">
          <h2 class="section-title">{title}</h2>
          <div class="bg-brand-600 mx-auto mt-2 h-1 w-16 rounded-full" />
        </div>
      )
    }

    <div class="grid grid-cols-2 gap-3 md:grid-cols-3 lg:grid-cols-5">
      {
        images.map((src, i) => (
          <div
            class:list={[
              'group relative aspect-square overflow-hidden rounded-xl bg-gray-900',
              i === 0
                ? 'col-span-2 row-span-2 md:col-span-1 md:row-span-1 lg:col-span-2 lg:row-span-2'
                : '',
            ]}
          >
            <img
              src={src}
              alt={`BSidesTLV photo ${i + 1}`}
              class="h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"
              loading="lazy"
            />
            <div class="bg-brand-950/0 group-hover:bg-brand-950/20 absolute inset-0 transition-colors duration-300" />
          </div>
        ))
      }
    </div>

    {
      albumUrl && (
        <div class="mt-8 text-center">
          <a href={albumUrl} target="_blank" rel="noopener noreferrer" class="btn-outline">
            View all photos
            <svg class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"
              />
            </svg>
          </a>
        </div>
      )
    }
  </div>
</section>
